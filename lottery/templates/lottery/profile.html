{% extends 'lottery/base_adminpanel.html' %}

{% block content %}
<div class="container py-5" style="max-width: 500px;">
  <div class="card shadow-sm rounded-4">
    <div class="card-body p-4">
      <h3 class="card-title text-center mb-3">
        <i class="bi bi-person-circle"></i> Profile Settings
      </h3>
      {% for message in messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      {% endfor %}
      <form method="post" novalidate>
        {% csrf_token %}
        <!-- Username -->
        <div class="mb-3">
          <label for="username" class="form-label fw-semibold">
            <i class="bi bi-person-fill"></i> Username
          </label>
          <input type="text" class="form-control form-control-lg" id="username" name="username" value="{{ user.username }}">
        </div>
        <hr class="my-4">
        <!-- Password Change Section -->
        <h5 class="mb-3">
          <i class="bi bi-key-fill"></i> Change Password
        </h5>
        <div class="mb-3">
          {{ password_form.old_password.label_tag }}
          {{ password_form.old_password }}
        </div>
        <div class="mb-3">
          {{ password_form.new_password1.label_tag }}
          {{ password_form.new_password1 }}
        </div>
        <div class="mb-3">
          {{ password_form.new_password2.label_tag }}
          {{ password_form.new_password2 }}
        </div>
        <div class="d-grid mt-4">
          <button type="submit" class="btn btn-primary btn-lg">
            <i class="bi bi-save"></i> Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}